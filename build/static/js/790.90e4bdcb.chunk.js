"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[790],{9378:function(e,n,t){t(2791);var r=t(3594),i=t(5159),a=t(269),c=t(6513),o=t(184);n.Z=function(e){var n=e.deleteHandler,t=e.phrase,d=e.dialog,s=e.setDialog,l=function(){s(!1)};return(0,o.jsxs)(r.Z,{open:d,style:{padding:20},onClose:l,children:[(0,o.jsx)(i.Z,{children:t}),(0,o.jsxs)(a.Z,{children:[(0,o.jsxs)(c.Z,{style:{background:"#354555",width:50,color:"white"},onClick:function(){n(d),s(!1)},children:[" ","Delete"," "]}),(0,o.jsxs)(c.Z,{style:{border:"solid 1px #354555",width:50,color:" #354555"},onClick:l,children:[" ","Cancel"," "]})]})]})}},5374:function(e,n,t){var r,i=t(168),a=t(885),c=t(2791),o=t(5751),d=t(6871),s=t(184);n.Z=function(e){var n=e.selectedId,t=(0,c.useRef)(),r=(0,d.s0)(),i=(0,c.useState)(0),o=(0,a.Z)(i,2),u=o[0],p=o[1];(0,c.useEffect)((function(){var e=t.current.children;p(e[n].children[0]);for(var r=0;r<e.length;r++)e[r].className=" ";e[n].className="selected"}),[]);var h=function(e,n){var t=void 0===u.current?u:u.current,i="svg"===e.tagName?e:e.parentElement;t.parentElement.className="",i.parentElement.className="selected",p(i),r("/dashboard/"+n)};return(0,s.jsx)(l,{children:(0,s.jsxs)("div",{ref:t,children:[(0,s.jsx)("div",{id:"0",children:(0,s.jsx)("svg",{id:"general",onClick:function(e){return h(e.target,"")},"aria-hidden":"true",role:"img",width:"35",height:"35",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",children:(0,s.jsx)("path",{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"})})},"1"),(0,s.jsx)("div",{id:"1",children:(0,s.jsx)("svg",{onClick:function(e){return h(e.target,"products")},"aria-hidden":"true",id:"products",role:"img",width:"30",height:"30",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M17 8h1v11H2V8h1V6c0-2.76 2.24-5 5-5c.71 0 1.39.15 2 .42A4.94 4.94 0 0 1 12 1c2.76 0 5 2.24 5 5v2zM5 6v2h2V6c0-1.13.39-2.16 1.02-3H8C6.35 3 5 4.35 5 6zm10 2V6c0-1.65-1.35-3-3-3h-.02A4.98 4.98 0 0 1 13 6v2h2zm-5-4.22C9.39 4.33 9 5.12 9 6v2h2V6c0-.88-.39-1.67-1-2.22z"})})},"2"),(0,s.jsx)("div",{id:"2",children:(0,s.jsx)("svg",{onClick:function(e){return h(e.target,"user")},"aria-hidden":"true",id:"users",role:"img",width:"30",height:"30",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M7.5 6.5C7.5 8.981 9.519 11 12 11s4.5-2.019 4.5-4.5S14.481 2 12 2S7.5 4.019 7.5 6.5zM20 21h1v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h17z"})})},"3"),(0,s.jsx)("div",{id:"3",children:(0,s.jsx)("svg",{onClick:function(e){return h(e.target,"order")},"aria-hidden":"true",id:"order",role:"img",width:"35",height:"35",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M4 7h11v2H4zm0 4h11v2H4zm0 4h7v2H4zm15.299-2.708l-4.3 4.291l-1.292-1.291l-1.414 1.415l2.706 2.704l5.712-5.703z"})})},"4"),(0,s.jsx)("div",{id:"4",children:(0,s.jsxs)("svg",{fill:"#606A76",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"30px",height:"30px",onClick:function(e){return h(e.target,"settings")},id:"settings",children:[" ",(0,s.jsx)("path",{d:"M47.16,21.221l-5.91-0.966c-0.346-1.186-0.819-2.326-1.411-3.405l3.45-4.917c0.279-0.397,0.231-0.938-0.112-1.282 l-3.889-3.887c-0.347-0.346-0.893-0.391-1.291-0.104l-4.843,3.481c-1.089-0.602-2.239-1.08-3.432-1.427l-1.031-5.886 C28.607,2.35,28.192,2,27.706,2h-5.5c-0.49,0-0.908,0.355-0.987,0.839l-0.956,5.854c-1.2,0.345-2.352,0.818-3.437,1.412l-4.83-3.45 c-0.399-0.285-0.942-0.239-1.289,0.106L6.82,10.648c-0.343,0.343-0.391,0.883-0.112,1.28l3.399,4.863 c-0.605,1.095-1.087,2.254-1.438,3.46l-5.831,0.971c-0.482,0.08-0.836,0.498-0.836,0.986v5.5c0,0.485,0.348,0.9,0.825,0.985 l5.831,1.034c0.349,1.203,0.831,2.362,1.438,3.46l-3.441,4.813c-0.284,0.397-0.239,0.942,0.106,1.289l3.888,3.891 c0.343,0.343,0.884,0.391,1.281,0.112l4.87-3.411c1.093,0.601,2.248,1.078,3.445,1.424l0.976,5.861C21.3,47.647,21.717,48,22.206,48 h5.5c0.485,0,0.9-0.348,0.984-0.825l1.045-5.89c1.199-0.353,2.348-0.833,3.43-1.435l4.905,3.441 c0.398,0.281,0.938,0.232,1.282-0.111l3.888-3.891c0.346-0.347,0.391-0.894,0.104-1.292l-3.498-4.857 c0.593-1.08,1.064-2.222,1.407-3.408l5.918-1.039c0.479-0.084,0.827-0.5,0.827-0.985v-5.5C47.999,21.718,47.644,21.3,47.16,21.221z M25,32c-3.866,0-7-3.134-7-7c0-3.866,3.134-7,7-7s7,3.134,7,7C32,28.866,28.866,32,25,32z"})]})},"5")]},5465345)})};var l=o.ZP.div(r||(r=(0,i.Z)(["\n  & > div {\n    @media screen and (max-width: 960px) {\n      width: 100%;\n      max-height: 60px;\n      position: relative;\n      flex-direction: row;\n      align-items: center;\n    }\n    width: 60px;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: #354555;\n    flex-direction: column;\n    transition: 0.4s;\n    position: fixed;\n\n    div:not(:first-child) {\n      margin: 25px 0 0 0;\n    }\n\n    div {\n      @media screen and (max-width: 960px) {\n        height: 100%;\n        padding: 2rem 1rem;\n        margin: 0 !important;\n        align-items: center;\n        justify-content: center;\n      }\n      display: flex;\n      width: 100%;\n      justify-content: center;\n      padding: 1rem 0;\n      cursor: pointer;\n      transition: 0.4s;\n      fill: #606a76;\n\n      &.selected {\n        background: #256fc5;\n        svg {\n          fill: #fff;\n        }\n      }\n    }\n  }\n"])))},6790:function(e,n,t){t.r(n),t.d(n,{default:function(){return ie}});var r,i,a=t(168),c=t(5861),o=t(885),d=t(4942),s=t(7757),l=t.n(s),u=t(2791),p=t(5751),h=t(5374),f=t(184);var m,x,g,v=function(e){var n=e.closeMenu;return(0,f.jsxs)(b,{children:[(0,f.jsx)(j,{onClick:n,children:" X "}),(0,f.jsx)("h1",{children:" Add Product "}),(0,f.jsxs)("form",{method:"POST",action:"/api/dashboard/product",enctype:"multipart/form-data",children:[(0,f.jsx)("input",{type:"text",required:!0,name:"title",placeholder:"Product Name"}),(0,f.jsx)("input",{type:"text",name:"label",placeholder:"Product Label"}),(0,f.jsx)("input",{type:"file",name:"image"}),(0,f.jsx)("input",{type:"text",name:"color",placeholder:"Product Color"}),(0,f.jsx)("input",{type:"number",name:"price",step:"0.1",min:"0.1",placeholder:"Price",required:!0}),(0,f.jsx)("input",{type:"number",required:!0,name:"quantity",placeholder:"Product quantity"}),(0,f.jsx)("input",{type:"text",className:"double",name:"description",placeholder:"Product Description"}),(0,f.jsx)("div",{className:"button",children:(0,f.jsx)("button",{children:" Add Product"})})]})]})},b=p.ZP.div(r||(r=(0,a.Z)(["\n  @media screen and (max-width: 900px) {\n    padding: 2rem 5px;\n    width: 100vw;\n    left: 0;\n  }\n  width: calc(100vw - 60px);\n  left: 60px;\n  padding: 5rem 3rem;\n  z-index: 4;\n  background: white;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  h1 {\n    padding: 0 1rem 2rem 0;\n    text-align: center;\n  }\n  & > form {\n    @media screen and (max-width: 900px) {\n      grid-template-columns: repeat(2, calc(150px + 2rem));\n    }\n    display: grid;\n    grid-template-columns: repeat(2, calc(180px + 2rem));\n    grid-template-rows: auto;\n\n    input {\n      width: calc(100% - 2rem);\n      height: 40px;\n      margin: 1.5rem 1rem;\n      padding: 0 5px;\n    }\n\n    input.double {\n      grid-column: span 2;\n    }\n\n    .button {\n      grid-column: span 2;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      button {\n        background: #f55a4e;\n        padding: 10px 15px;\n        outline: 0;\n        color: white;\n        border-radius: 10px;\n        border: none;\n        cursor: pointer;\n      }\n    }\n  }\n"]))),j=p.ZP.div(i||(i=(0,a.Z)(["\n  position: absolute;\n  cursor: pointer;\n  font-weight: bolder;\n  padding: 0 1rem 0 0;\n  top: 1rem;\n  right: 2rem;\n"]))),w=t(3712),Z=t(8596),y=t(1795),C=t(7029),k=t(8302),P=t(6513),N=t(4892),S=t(7407),z=t(908),M=t(8182),O=t(2130),A=t(3594),T=t(5159),V=t(269),D=t(1079),E=t(1413),H=t(2982),R=t(284),q=t(308),B=t(6828),W=t(6168),Y=t(1859),L=t(9403),I=t(7104),J=t(9378),F=t(4026),U=t(3188),X=function(e){var n=e.offer,t=e.id,r=e.setOffer,i=(0,u.useState)(""),a=(0,o.Z)(i,2),d=a[0],s=a[1],p=(0,u.useState)(!1),h=(0,o.Z)(p,2),m=h[0],x=h[1],g=(0,u.useState)(!1),v=(0,o.Z)(g,2),b=v[0],j=v[1],w=(0,u.useState)(""),Z=(0,o.Z)(w,2),y=Z[0],C=Z[1],k=function(){x(!1)},P=function(){var e=(0,c.Z)(l().mark((function e(){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===d&&C("Please enter a valid offer"),!y){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("/api/dashboard/offers/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({offer:{available:!0,percent:Number(d)},id:t})});case 5:return n=e.sent,e.next=8,n.json();case 8:(i=e.sent).success?(alert("offer added successfully"),r(i.product.offer),k()):C(i.message);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,c.Z)(l().mark((function e(){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("removing offer"),e.next=3,fetch("/api/dashboard/offers/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({offer:{available:!1,percent:0},id:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:(i=e.sent).success?(alert("offer deleted successfully"),r({available:!1,percent:0}),k()):alert(i.message);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(f.Fragment,{children:[n&&n.available?(0,f.jsx)("button",{onClick:function(e){e.preventDefault(),j(!0)},className:"add-offer",children:"Remove Offer"}):(0,f.jsx)("button",{onClick:function(e){e.preventDefault(),x(!0)},className:"add-offer",children:"Add Offer"}),b?(0,f.jsx)(J.Z,{phrase:"Are you sure you want to end this offer?",setDialog:j,dialog:b,deleteHandler:N}):null,(0,f.jsxs)(A.Z,{open:m,children:[(0,f.jsx)(T.Z,{children:" Add Offer "}),(0,f.jsxs)(F.Z,{children:[(0,f.jsxs)("div",{style:{color:"red",textAlign:"center",margin:"5px 0"},children:[" ",y," "]}),(0,f.jsx)("label",{children:" Enter the percentage "}),(0,f.jsx)(U.Z,{type:"number",onChange:function(e){var n=e.target.value;n.length?Number(n)<0||Number(n)>99?C("percentage must be between 0 and 99"):(C(""),s(e.target.value)):C("Please enter a valid offer")}})]}),(0,f.jsxs)(V.Z,{children:[(0,f.jsx)("button",{style:{padding:"3px  8px",background:"#354555",color:"white"},onClick:function(){return P(d)},children:"Add"}),(0,f.jsx)("button",{style:{padding:"3px  8px",background:"#354555",color:"white"},onClick:k,children:"Close"})]})]})]})},_={PaperProps:{style:{maxHeight:224,width:250}}};var $,G,K=function(e){var n=e.closeMenu,t=e.id,r=(0,u.useState)(!0),i=(0,o.Z)(r,2),a=i[0],d=i[1],s=(0,u.useState)(!1),p=(0,o.Z)(s,2),h=p[0],m=p[1],x=(0,u.useState)({}),g=(0,o.Z)(x,2),v=g[0],b=g[1],j=(0,u.useState)([]),w=(0,o.Z)(j,2),Z=w[0],y=w[1],C=(0,u.useState)([]),k=(0,o.Z)(C,2),P=k[0],N=k[1],S=(0,u.useState)(),M=(0,o.Z)(S,2),A=M[0],T=M[1];(0,u.useEffect)((function(){function e(){return(e=(0,c.Z)(l().mark((function e(){var n,r,i,a,c,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/dashboard/product/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,b(r),T(r.offer),d(!1),e.next=12,fetch("/api/settings/");case 12:return i=e.sent,e.next=15,i.json();case 15:return a=e.sent,e.next=18,a[0];case 18:c=e.sent,o=c.catagories.map((function(e){return e.name})),y((0,H.Z)(o)),N(r.label),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),m("some thing went wrong please try again");case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var V=function(e){var n=(0,E.Z)({},v);n[e.target.name]=e.target.value,b(n)};return h?(0,f.jsx)(q.Z,{msg:h}):a?(0,f.jsx)(R.Z,{}):(0,f.jsxs)(Q,{children:[(0,f.jsx)(ee,{onClick:n,children:" X "}),(0,f.jsx)("h1",{children:" Update Product "}),null!==A&&void 0!==A&&A.available?(0,f.jsxs)(O.Z,{severity:"info",style:{margin:"15px 0"},children:["this product has a ",A.percent,"% OFF"]}):null,(0,f.jsxs)("form",{method:"POST",onSubmit:function(e){var r=(0,E.Z)((0,E.Z)({},v),{},{label:P});console.log(r),e.preventDefault(),fetch("/api/dashboard/product/update/".concat(t),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(r)}).then(function(){var e=(0,c.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:e.sent.success?n():console.log("error happened");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))},enctype:"multipart/form-data",children:[(0,f.jsx)("input",{type:"text",value:v.title||"",required:!0,name:"title",onChange:function(e){return V(e)},placeholder:"Product Name"}),(0,f.jsx)("input",{type:"file",name:"image"}),(0,f.jsx)("input",{type:"text",name:"color",value:v.color,onChange:function(e){return V(e)},placeholder:"Product Color"}),(0,f.jsx)("input",{type:"number",name:"price",step:"0.1",min:"0.1",value:v.price,onChange:function(e){return V(e)},placeholder:"Price",required:!0}),(0,f.jsx)("input",{type:"number",required:!0,name:"stock",value:v.stock,onChange:function(e){return V(e)},placeholder:"Product quantity"}),(0,f.jsx)("input",{type:"text",className:"double",name:"description",onChange:function(e){return V(e)},value:v.description,placeholder:"Product Description"}),(0,f.jsx)(ne,{children:(0,f.jsxs)(B.Z,{children:[(0,f.jsx)(W.Z,{id:"demo-mutiple-chip-label",children:"Category"}),(0,f.jsx)(L.Z,{style:{minWidth:"120px"},labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:P,onChange:function(e){N(e.target.value)},input:(0,f.jsx)(I.Z,{id:"select-multiple-chip"}),renderValue:function(e){return(0,f.jsx)("div",{children:e.map((function(e){return(0,f.jsx)(z.Z,{label:e,style:{margin:1}},e)}))})},MenuProps:_,children:Z.map((function(e){var n=function(e,n){return e.includes(n)?(console.log("test"),{fontWeight:"bold",color:"red"}):{fontWeight:"normal",color:"black"}}(P,e);return(0,f.jsx)(Y.Z,{value:e,style:n,children:e},e)}))})]})}),(0,f.jsxs)("div",{className:"button",children:[(0,f.jsx)("button",{children:" Update Product "}),(0,f.jsx)(X,{offer:A,setOffer:T,id:t})]})]})]})},Q=p.ZP.div(m||(m=(0,a.Z)(["\n  @media screen and (max-width: 900px) {\n    padding: 2rem 5px;\n    width: 100vw;\n    left: 0;\n  }\n  width: calc(100vw - 60px);\n  left: 60px;\n  padding: 5rem 3rem;\n  z-index: 4;\n  background: white;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  h1 {\n    padding: 0 1rem 2rem 0;\n    text-align: center;\n  }\n  & > form {\n    @media screen and (max-width: 900px) {\n      grid-template-columns: repeat(2, calc(150px + 2rem));\n    }\n    display: grid;\n    grid-template-columns: repeat(2, calc(180px + 2rem));\n    grid-template-rows: auto;\n\n    input {\n      width: calc(100% - 2rem);\n      height: 40px;\n      margin: 1.5rem 1rem;\n      padding: 0 5px;\n    }\n\n    input.double {\n      grid-column: span 2;\n    }\n\n    .button {\n      grid-column: span 2;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      button {\n        background: #f55a4e;\n        padding: 10px 15px;\n        outline: 0;\n        color: white;\n        border-radius: 10px;\n        border: none;\n        cursor: pointer;\n        margin: 0 1rem;\n        transition: 0.3s ease;\n        &:hover {\n          opacity: 0.8;\n        }\n      }\n\n      button.add-offer {\n        background: #333;\n      }\n    }\n  }\n"]))),ee=p.ZP.div(x||(x=(0,a.Z)(["\n  position: absolute;\n  cursor: pointer;\n  font-weight: bolder;\n  padding: 0 1rem 0 0;\n  top: 1rem;\n  right: 2rem;\n"]))),ne=p.ZP.div(g||(g=(0,a.Z)(["\n  margin: 1rem 0;\n"]))),te=t(3504),re=(0,Z.Z)((function(e){var n,t,r;return{root:{color:e.palette.primary.main},container:{width:"100vw",minHeight:"100vh",margin:0,padding:0},contentContainer:(n={},(0,d.Z)(n,e.breakpoints.down("md"),{left:0,width:"100vw",padding:0}),(0,d.Z)(n,e.breakpoints.up("md"),{width:"calc(100vw - 60px)",height:"100%",margin:0}),n),cardsContainer:(t={width:"100%",padding:"1rem",display:"inline-flex",flexWrap:"wrap"},(0,d.Z)(t,e.breakpoints.down("md"),{justifyContent:"space-around"}),(0,d.Z)(t,e.breakpoints.up("md"),{justifyContent:"space-between"}),t),Title:(r={marginTop:30},(0,d.Z)(r,e.breakpoints.down("md"),{padding:8,"& > h2":{fontSize:"1.8rem"}}),(0,d.Z)(r,e.breakpoints.up("md"),{padding:"1rem","& > h2":{fontSize:"2.2rem"}}),(0,d.Z)(r,"width","100%"),(0,d.Z)(r,"margin",0),(0,d.Z)(r,"display","flex"),(0,d.Z)(r,"justifyContent","space-between"),(0,d.Z)(r,"alignItems","center"),(0,d.Z)(r,e.breakpoints.down("sm"),{textAlign:"center"}),(0,d.Z)(r,"& > button",{background:C.t4.palette.action.main,color:"white",borderRadius:25,padding:"8px 12px","&:hover":{background:C.t4.palette.secondary.main}}),r),tableContainer:{height:500,"& .dataCell.negative div":{color:C.t4.palette.warning.main,border:"solid 1px ".concat(C.t4.palette.warning.main),fontSize:"0.8rem",fontWeight:"bold"},"& .dataCell.positive div":{color:C.t4.palette.success.main,border:"solid 1px ".concat(C.t4.palette.success.main),fontSize:"0.8rem",fontWeight:"bold"}}}}));var ie=function(){var e=[{field:"id",headerName:"ID",cellClassName:"center",width:90},{field:"title",headerName:" Name",editable:!0,width:150},{field:"price",headerName:"price",editable:!0,width:150},{field:"numberOfOrders",headerName:"Number Of Orders",type:"number",align:"center",cellClassName:function(e){return(0,M.Z)("dataCell",{negative:e.value<=4,positive:e.value>4})},renderCell:function(e){return(0,f.jsx)(z.Z,{label:e.value||"no orders",variant:"outlined"})},width:180},{field:"stock",headerName:"stock",type:"number",align:"center",headerAlign:"center",renderCell:function(e){return(0,f.jsx)(z.Z,{label:e.value,color:"primary",variant:"outlined"})},width:150},{field:"Edit",headerName:"edit",align:"center",renderCell:function(e){return(0,f.jsx)(D.Z,{onClick:function(){return L(e.id)},styles:{width:40,height:40,cursor:"pointer"}})},editable:!1,width:120},{field:"images",headerName:"delete",align:"center",renderCell:function(e){return(0,f.jsx)(S.Z,{onClick:function(){return I(e.id)},styles:{width:40,height:40,cursor:"pointer"}})},editable:!1,width:120}],n=re(),t=(0,u.useState)([]),r=(0,o.Z)(t,2),i=r[0],a=r[1],d=(0,u.useState)(!1),s=(0,o.Z)(d,2),p=s[0],m=s[1],x=(0,u.useState)(!1),g=(0,o.Z)(x,2),b=g[0],j=g[1],Z=(0,u.useState)(!1),E=(0,o.Z)(Z,2),H=E[0],R=E[1],q=(0,u.useState)(!1),B=(0,o.Z)(q,2),W=B[0],Y=B[1],L=function(e){Y(e)},I=function(e){j(e)},J=function(){var e=(0,c.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/api/dashboard/deleteProduct",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:n})}).then((function(e){200===e.status&&console.log(e.status),m(!0)})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=function(){j(!1)};return(0,u.useEffect)((function(){function e(){return(e=(0,c.Z)(l().mark((function e(){var n,t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/dashboard/products");case 2:return n=e.sent,e.next=5,n.json();case 5:t=e.sent,r=t.map((function(e){return{title:e.title,id:e._id,price:e.price,description:e.description,numberOfOrders:e.numberOfOrders,stock:e.stock}})),a(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p]),W?(0,f.jsx)(K,{closeMenu:function(){Y(!1)},id:W}):(0,f.jsxs)(ae,{children:[(0,f.jsx)(h.Z,{selectedId:1}),H?(0,f.jsx)(v,{className:"addProduct",closeMenu:function(){R(!1)}}):(0,f.jsxs)(ce,{children:[p?(0,f.jsxs)(O.Z,{variant:"filled",onClose:function(){m(!1)},children:[" ","Product Deleted successfully"," "]}):null,(0,f.jsx)(y.Z,{theme:C.t4,children:(0,f.jsxs)(w.Z,{className:n.contentContainer,children:[(0,f.jsxs)(w.Z,{className:n.Title,children:[(0,f.jsx)(k.Z,{variant:"h2",children:"Products"}),(0,f.jsx)(P.Z,{onClick:function(){R(!H)},children:" Add Product "})]}),b?(0,f.jsxs)(A.Z,{open:Boolean(b),onClose:F,children:[(0,f.jsxs)(T.Z,{children:[" ","are you sure You want To delete This Product"," "]}),(0,f.jsxs)(V.Z,{children:[(0,f.jsxs)(P.Z,{style:{background:"#354555",width:50,color:"white"},onClick:function(){J(b),j(!1)},children:[" ","Delete"," "]}),(0,f.jsxs)(P.Z,{style:{border:"solid 1px #354555",width:50,color:" #354555"},onClick:F,children:[" ","Cancel"," "]})]})]}):null,(0,f.jsx)(te.rU,{to:"/",style:{position:"absolute",top:"0.5rem",right:"1rem"},children:(0,f.jsx)("svg",{"aria-hidden":"true",role:"img",width:"25",height:"25",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",children:(0,f.jsx)("path",{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3c0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8c24.9-25 24.9-65.5-.1-90.5z",fill:"black"})})}),(0,f.jsx)(w.Z,{className:n.tableContainer,children:i&&(0,f.jsx)(N._$r,{rows:i,columns:e,checkboxSelection:!0,disableSelectionOnClick:!0,autoPageSize:!0})})]})})]})]})},ae=p.ZP.div($||($=(0,a.Z)(["\n  @media screen and (max-width: 900px) {\n    flex-direction: column;\n  }\n  max-width: 100vw;\n  display: flex;\n"]))),ce=p.ZP.div(G||(G=(0,a.Z)(["\n  @media screen and (max-width: 900px) {\n    left: 0;\n    padding: 0 0.5rem;\n  }\n  min-height: 100vh;\n  font-family: Roboto, serif;\n  background: #f6f7f8;\n  position: relative;\n  left: 60px;\n"])))},4026:function(e,n,t){var r=t(7462),i=t(5987),a=t(2791),c=t(8182),o=t(8317),d=a.forwardRef((function(e,n){var t=e.classes,o=e.className,d=e.dividers,s=void 0!==d&&d,l=(0,i.Z)(e,["classes","className","dividers"]);return a.createElement("div",(0,r.Z)({className:(0,c.Z)(t.root,o,s&&t.dividers),ref:n},l))}));n.Z=(0,o.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(d)},1079:function(e,n,t){var r=t(5318),i=t(862);n.Z=void 0;var a=i(t(2791)),c=(0,r(t(4894)).default)(a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=c}}]);
//# sourceMappingURL=790.90e4bdcb.chunk.js.map