"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9],{1009:function(n,e,r){r.r(e),r.d(e,{default:function(){return R}});var i=r(2791),t=r(6871),s=r(168),o=r(5751),a=r(3504),d=r(6030),c=r(1007),l=r(885),h=r(3373),u=r.n(h),p=r(184);u().accessToken="pk.eyJ1IjoibW9oYW1tYWQtZXNhbSIsImEiOiJjbDBxaGF2NmUyNXhvM2JwdzNna21uaGdsIn0.TMOSvAJwB_yOd1PhcSENMw";var x,m,g,f,j=function(n){var e=n.width,r=n.height,t=(0,i.useRef)(null),s=(0,i.useRef)(null),o=(0,i.useState)(-70.9),a=(0,l.Z)(o,2),d=(a[0],a[1]),c=(0,i.useState)(42.35),h=(0,l.Z)(c,2),x=(h[0],h[1]),m=(0,i.useState)([]),g=(0,l.Z)(m,2),f=g[0],j=g[1],b=(0,i.useState)(14),v=(0,l.Z)(b,2),w=v[0],y=(v[1],function(){console.log("error")});return(0,i.useEffect)((function(){if(!s.current){navigator.geolocation.getCurrentPosition((function(n){j([n.coords.longitude,n.coords.latitude]),s.current=new(u().Map)({container:t.current,style:"mapbox://styles/mapbox/streets-v11",center:[n.coords.longitude,n.coords.latitude],zoom:w});var e=new(u().Marker)({color:"#FF0000",draggable:!0}).setLngLat([n.coords.longitude,n.coords.latitude]).addTo(s.current);e.on("dragend",(function(){return function(n){var e=n.getLngLat();d(e.lng),x(e.lat),console.log(f,e)}(e)})),s.current.addControl(new(u().NavigationControl))}),y)}}),[]),(0,p.jsx)("div",{children:(0,p.jsx)("div",{ref:t,className:"map-container",style:{width:e,height:r}})})};var b,v=function(){var n=(0,t.s0)(),e=Math.floor(100*(0,t.UO)().total)/100,r=(0,d.v9)(c.PR);return(0,p.jsxs)(w,{children:[(0,p.jsx)("h1",{children:" Check Out "}),r?null:(0,p.jsxs)(Z,{children:[" ",(0,p.jsx)("span",{children:"\u26a0"})," You are not logged In !"," ",(0,p.jsx)(a.rU,{to:"/login",children:"Login Now"})," "]}),(0,p.jsxs)("form",{children:[(0,p.jsxs)(y,{children:[(0,p.jsx)("h3",{style:{color:"#2053cd"},children:" Select Your Location "}),(0,p.jsx)(j,{width:"360px",height:"300px"})]}),(0,p.jsxs)(k,{children:[(0,p.jsx)("h3",{children:" Summary "}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:" shipping cost "}),(0,p.jsxs)("span",{className:"bold",children:[" ",8," AED"]})]},"1"),(0,p.jsxs)("div",{children:[" ",(0,p.jsx)("span",{children:"Total Bill "})," ",(0,p.jsxs)("span",{className:"bold",children:[e," AED"]})," "]},"2"),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"discount "})," ",(0,p.jsx)("span",{className:"bold",children:" 0% "})]}),(0,p.jsxs)("div",{children:[" ",(0,p.jsx)("span",{children:"Total To Pay"})," ",(0,p.jsxs)("span",{className:"bold",children:[" ",e+8," AED"]})," "]},"3"),(0,p.jsxs)("button",{disabled:!Boolean(r),className:Boolean(r)?"":"disabled",onClick:function(e){e.preventDefault(),n("/checkout/paypal/".concat(8))},children:[" ","Checkout"," "]})]})]})]})},w=o.ZP.div(x||(x=(0,s.Z)(["\n  @media screen and (max-width: 700px) {\n    padding: 0;\n\n    div {\n      margin: 1rem 0;\n    }\n  }\n  width: 100vw;\n  background: #f6eee8;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  padding: 0 0 0 7rem;\n\n  h1 {\n    margin: 5rem 0 3rem 0;\n    text-align: center;\n  }\n\n  form {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n"]))),y=o.ZP.div(m||(m=(0,s.Z)(["\n  width: 50%;\n  min-width: 400px;\n  height: 350px;\n  padding: 1rem 3rem;\n  background: white;\n  div {\n    display: flex;\n    flex-direction: column;\n    margin: 1rem 0;\n\n    label {\n      margin: 10px 0;\n    }\n\n    textarea {\n      padding: 10px;\n    }\n\n    select {\n      font-size: 1.3rem;\n      padding: 5px;\n    }\n  }\n"]))),k=o.ZP.div(g||(g=(0,s.Z)(["\n  margin: 0 2rem 2rem 2rem;\n  min-width: 250px;\n  width: 30%;\n  height: 350px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  padding: 2rem;\n\n  h3 {\n    color: #2053cd;\n    margin: -1rem 0 1rem 0;\n  }\n  div {\n    margin: 1rem 0;\n    width: 100%;\n    margin: 0.4rem 0;\n    display: flex;\n    justify-content: space-between;\n\n    .bold {\n      font-weight: bold;\n    }\n  }\n\n  button {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    padding: 0.6rem 0;\n    background: #2053cd;\n    color: white;\n    margin: 5rem 0 0 0;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: 0.3s;\n\n    &:hover {\n      background: #3769df;\n    }\n\n    &.disabled {\n      opacity: 0.6;\n      cursor: none;\n    }\n  }\n"]))),Z=o.ZP.div(f||(f=(0,s.Z)(["\n  width: 80vw;\n  background: #fe3448;\n  color: black;\n  padding: 10px;\n  margin: 20px 0;\n  font-weight: bold;\n\n  a {\n    margin: 0 5px;\n    text-decoration: underline;\n    color: white;\n  }\n"])));var N,S=function(){return(0,p.jsxs)(C,{children:[(0,p.jsx)("h1",{children:"Payment Successfully Completed \u2714"}),(0,p.jsx)(a.rU,{to:"/products",children:"continue shopping"}),(0,p.jsx)(a.rU,{to:"/dashboard/normal_user",children:"Back to Your Account"})]})},C=o.ZP.div(b||(b=(0,s.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 100vh;\n  width: 100vw;\n  font-family: Roboto, serif;\n\n  h1 {\n    text-align: center;\n    margin: -10rem 0 8rem 0;\n  }\n\n  a {\n    margin: 1rem 0;\n    font-size: 1.2rem;\n    color: #0142ad;\n    transition: 0.25s;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"]))),P=r(5861),A=r(7757),D=r.n(A),O=r(8815),T=r(8329),I=r(7025),E=r(4595),B=r(8302),J=r(6955),U={display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100vw",height:"100vh"},L={borderRadius:5,padding:"5px 10px",background:"#FD4056",margin:"10px 0",color:"white",width:200,height:35,"&:hover":{opacity:.8}},M={position:"absolute",top:5,left:8};var W=function(){var n=void 0!==T.Z.get("user")?JSON.parse(T.Z.get("user")):void 0,e=(0,t.s0)(),r=(0,d.I0)(),i=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],s=(0,t.UO)().shippingCost,o=function(){var t=(0,P.Z)(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/dashboard/orders/add",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({cartData:i,user:n._id,shippingCost:s})});case 2:localStorage.removeItem("cart"),r((0,O.bA)([])),e("/checkout/success");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function c(n){return n.reduce((function(n,e){return n+e.price*e.quantity}),0)}return n?(0,p.jsxs)("div",{style:U,children:[(0,p.jsx)(a.rU,{to:"/cart",children:(0,p.jsx)(J.Z,{style:M})}),(0,p.jsxs)(Y,{children:[(0,p.jsx)("h3",{children:" Summary "}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:" shipping cost "}),(0,p.jsxs)("span",{className:"bold",children:[" ",s," AED "]})]},"1"),(0,p.jsxs)("div",{children:[" ",(0,p.jsx)("span",{children:"Total Bill "})," ",(0,p.jsxs)("span",{className:"bold",children:[c(i)," AED"]})," "]},"2"),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"discount "})," ",(0,p.jsx)("span",{className:"bold",children:" 0% "})]}),(0,p.jsxs)("div",{children:[" ",(0,p.jsx)("span",{children:"Total To Pay"})," ",(0,p.jsxs)("span",{className:"bold",children:[" ",c(i)+Number(s)," AED"," "]})," "]},"3")]}),(0,p.jsxs)(I.Z,{style:L,onClick:o,children:[(0,p.jsx)(E.Z,{})," ",(0,p.jsx)(B.Z,{children:"Submit The Order"})]})]}):(0,p.jsx)("div",{children:"You are not logged in"})},Y=o.ZP.div(N||(N=(0,s.Z)(["\n  margin: 0 2rem 2rem 2rem;\n  min-width: 250px;\n  width: 30%;\n  height: 350px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  padding: 2rem;\n\n  h3 {\n    color: #2053cd;\n    margin: -1rem 0 1rem 0;\n  }\n  div {\n    margin: 1rem 0;\n    width: 100%;\n    margin: 0.4rem 0;\n    display: flex;\n    justify-content: space-between;\n\n    .bold {\n      font-weight: bold;\n    }\n  }\n\n  button {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    padding: 0.6rem 0;\n    background: #2053cd;\n    color: white;\n    margin: 5rem 0 0 0;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: 0.3s;\n\n    &:hover {\n      background: #3769df;\n    }\n\n    &.disabled {\n      opacity: 0.6;\n      cursor: none;\n    }\n  }\n"]))),R=function(){return(0,p.jsxs)(t.Z5,{children:[(0,p.jsx)(t.AW,{path:":total",element:(0,p.jsx)(v,{})}),(0,p.jsx)(t.AW,{path:"/success",element:(0,p.jsx)(S,{})}),(0,p.jsx)(t.AW,{path:"paypal/:shippingCost/",element:(0,p.jsx)(W,{})})]})}}}]);
//# sourceMappingURL=9.edb0ab42.chunk.js.map